{% extends 'database_template.html' %}

{% block campaigns %}
<h1>Campaign Page</h1>

<div class="body-container">

    {% for campaign in campaigns%}
        <br>
        <div class="card dark-background" style="max-width: 95%;">
            <div class="row g-0">
                <div class="col-md-6 my-auto">
                    <img class="img-fluid rounded-start" style="height: 250px; width: 100%; object-fit: cover" src={{ campaign.image_url }}>
                </div>
                <div class="col-md-6 my-auto" style="justify-content: center">
                    <div class="card-body">
                        <h3 class="card-title"><a class="stretched-link" href=campaigns/{{ campaign.id }}>{{ campaign.title }}</a></h3>
                        <table style="margin: auto; margin-bottom: 3%">
                            <tr>
                                <td colspan="2" style="text-align: center">{{ campaign.progress }}</td>
                                <td colspan="2" style="text-align: center">{{ campaign.medium }} - {{ campaign.type }}</td>
                            </tr>
                            <tr>
                                <th>Produced by:</th>
                                <td colspan="3">
                                    {% for producer in campaign.produced_by.all %}
                                        <a style="position: relative;" class="stretched-link" href=producers/{{ producer.id }}>{{ producer.name }}</a>{% if not forloop.last %},&nbsp{% endif %}
                                    {% endfor %}
                                </td>
                            </tr>
                            <tr>
                                <th>System(s):</th>
                                <td colspan="3">
                                    {% for system in campaign.system.all %}
                                        <a style="position: relative;" class="stretched-link" href=systems/{{ system.id }}>{{ system.name }}</a>{% if not forloop.last %},&nbsp{% endif %}
                                    {% endfor %}
                                </td>
                            </tr>
                        </table>
                        {% if campaign.blurb %}<p class="card-text">{{ campaign.blurb }}</p>{% endif %}
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
        <br>
</div>

{% endblock campaigns %}
